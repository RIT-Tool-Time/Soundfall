<!DOCTYPE html>


<html>
	<head>
		<meta charset="utf-8">
	    
	    <title>Compatibility Functions &mdash; CodeIgniter 3.0-dev documentation</title>

	    <link rel="stylesheet" href="../_static/asset/css/common.css" type="text/css" />
	    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
	    <script type="text/javascript">
	      var DOCUMENTATION_OPTIONS = {
	        URL_ROOT:    '../',
	        VERSION:     '3.0-dev',
	        COLLAPSE_INDEX: false,
	        FILE_SUFFIX: '.html',
	        HAS_SOURCE:  false
	      };
	    </script>
	    <script type="text/javascript" src="../_static/jquery.js"></script>
	    <script type="text/javascript" src="../_static/underscore.js"></script>
	    <script type="text/javascript" src="../_static/doctools.js"></script>

	    <script type="text/javascript" src="../_static/asset/js/method-toc.js"></script>
	    <link rel="top" title="CodeIgniter 3.0-dev documentation" href="../index.html" />
	    <link rel="up" title="General Topics" href="index.html" />
	    <link rel="next" title="URI Routing" href="routing.html" />
	    <link rel="prev" title="Common Functions" href="common_functions.html" /> 
	</head>
	<body>
		<div id="table-contents">
			<div class="toctree-wrapper compound">
			<function <lambda> at 0x4c94ed8>
			</div>
		</div>

		<div id="brand" class="ci">
			<a href="http://codeigniter.com/"><img src="../_static/asset/img/ci-logo.gif" alt="CodeIgniter"></a>
			<p>3.0-dev User Guide</p>
		</div><!-- /#brand -->

		<div id="header"><!--
	--------------------------------
	Original Google search box block
	--------------------------------
	
<form method="get" action="http://www.google.com/search">
	<fieldset>
		<input type="text" name="q" id="q" value="">
		<input type="hidden" name="as_sitesearch" id="as_sitesearch" value="codeigniter.com/user_guide/" />
		<input class="grades" type="submit" value="search">
	</fieldset>
</form>
-->


<form class="search" action="../search.html" method="get">
  <input type="text" name="q" id="q" value="" />
  <input type="submit" value="search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
			<ul>
				<li><a href="../index.html">User Guide Home</a>&nbsp;&nbsp; &rsaquo;</li>
				<li><a href="index.html" accesskey="U">General Topics</a>&nbsp;&nbsp;  &rsaquo;</li>
				<li><strong>Compatibility Functions</strong></li>
			</ul>
		</div><!-- /#header -->

		<div class="section body" id="content">
  <div class="section" id="compatibility-functions">
<h1>Compatibility Functions<a class="headerlink" href="#compatibility-functions" title="Permalink to this headline">¶</a></h1>
<p>CodeIgniter provides a set of compatibility functions that enable
you to use functions what are otherwise natively available in PHP,
but only in higher versions or depending on a certain extension.</p>
<p>Being custom implementations, these functions will also have some
set of dependancies on their own, but are still useful if your
PHP setup doesn&#8217;t offer them natively.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Much like the <cite>common functions &lt;common_functions&gt;</cite>, the
compatibility functions are always available, as long as
their dependancies are met.</p>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#password-hashing" id="id3">Password Hashing</a><ul>
<li><a class="reference internal" href="#dependancies" id="id4">Dependancies</a></li>
<li><a class="reference internal" href="#constants" id="id5">Constants</a></li>
<li><a class="reference internal" href="#function-reference" id="id6">Function reference</a></li>
</ul>
</li>
<li><a class="reference internal" href="#multibyte-string" id="id7">Multibyte String</a><ul>
<li><a class="reference internal" href="#id1" id="id8">Dependancies</a></li>
<li><a class="reference internal" href="#id2" id="id9">Function reference</a></li>
</ul>
</li>
</ul>
</div>
<div class="custom-index container"></div><div class="section" id="password-hashing">
<h2><a class="toc-backref" href="#id3">Password Hashing</a><a class="headerlink" href="#password-hashing" title="Permalink to this headline">¶</a></h2>
<p>This set of compatibility functions offers a &#8220;backport&#8221; of PHP&#8217;s
standard <a class="reference external" href="http://php.net/password">Password Hashing extension</a>
that is otherwise available only since PHP 5.5.</p>
<div class="section" id="dependancies">
<h3><a class="toc-backref" href="#id4">Dependancies</a><a class="headerlink" href="#dependancies" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>PHP 5.3.7</li>
<li><tt class="docutils literal"><span class="pre">CRYPT_BLOWFISH</span></tt> support for <tt class="docutils literal"><span class="pre">crypt()</span></tt></li>
</ul>
</div>
<div class="section" id="constants">
<h3><a class="toc-backref" href="#id5">Constants</a><a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">PASSWORD_BCRYPT</span></tt></li>
<li><tt class="docutils literal"><span class="pre">PASSWORD_DEFAULT</span></tt></li>
</ul>
</div>
<div class="section" id="function-reference">
<h3><a class="toc-backref" href="#id6">Function reference</a><a class="headerlink" href="#function-reference" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="password_get_info">
<tt class="descname">password_get_info</tt><big>(</big><em>$hash</em><big>)</big><a class="headerlink" href="#password_get_info" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>$hash</strong> (<em>string</em>) &#8211; Password hash</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Information about the hashed password</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>For more information, please refer to the <a class="reference external" href="http://php.net/password_get_info">PHP manual for
password_get_info()</a>.</p>
</dd></dl>

<dl class="function">
<dt id="password_hash">
<tt class="descname">password_hash</tt><big>(</big><em>$password</em>, <em>$algo</em><span class="optional">[</span>, <em>$options = array()</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#password_hash" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$password</strong> (<em>string</em>) &#8211; Plain-text password</li>
<li><strong>$algo</strong> (<em>int</em>) &#8211; Hashing algorithm</li>
<li><strong>$options</strong> (<em>array</em>) &#8211; Hashing options</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Hashed password or FALSE on failure</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>For more information, please refer to the <a class="reference external" href="http://php.net/password_hash">PHP manual for
password_hash()</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unless you provide your own (and valid) salt, this function
has a further dependancy on an available CSPRNG source. Each
of the following would satisfy that:
- <tt class="docutils literal"><span class="pre">mcrypt_create_iv()</span></tt> with <tt class="docutils literal"><span class="pre">MCRYPT_DEV_URANDOM</span></tt>
- <tt class="docutils literal"><span class="pre">openssl_random_pseudo_bytes()</span></tt>
- /dev/arandom
- /dev/urandom</p>
</div>
</dd></dl>

<dl class="function">
<dt id="password_needs_rehash">
<tt class="descname">password_needs_rehash</tt><big>(</big><big>)</big><a class="headerlink" href="#password_needs_rehash" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$hash</strong> (<em>string</em>) &#8211; Password hash</li>
<li><strong>$algo</strong> (<em>int</em>) &#8211; Hashing algorithm</li>
<li><strong>$options</strong> (<em>array</em>) &#8211; Hashing options</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">TRUE if the hash should be rehashed to match the given algorithm and options, FALSE otherwise</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>For more information, please refer to the <a class="reference external" href="http://php.net/password_needs_rehash">PHP manual for
password_needs_rehash()</a>.</p>
</dd></dl>

<dl class="function">
<dt id="password_verify">
<tt class="descname">password_verify</tt><big>(</big><em>$password</em>, <em>$hash</em><big>)</big><a class="headerlink" href="#password_verify" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$password</strong> (<em>string</em>) &#8211; Plain-text password</li>
<li><strong>$hash</strong> (<em>string</em>) &#8211; Password hash</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">TRUE if the password matches the hash, FALSE if not</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>For more information, please refer to the <a class="reference external" href="http://php.net/password_verify">PHP manual for
password_verify()</a>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="multibyte-string">
<h2><a class="toc-backref" href="#id7">Multibyte String</a><a class="headerlink" href="#multibyte-string" title="Permalink to this headline">¶</a></h2>
<p>This set of compatibility functions offers limited support for PHP&#8217;s
<a class="reference external" href="http://php.net/mbstring">Multibyte String extension</a>. Because of
the limited alternative solutions, only a few functions are available.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When a character set parameter is ommited,
<tt class="docutils literal"><span class="pre">$config['charset']</span></tt> will be used.</p>
</div>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id8">Dependancies</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://php.net/iconv">iconv</a> extension</li>
</ul>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">This dependancy is optional and these functions will
always be declared. If iconv is not available, they WILL
fall-back to their non-mbstring versions.</p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Where a character set is supplied, it must be
supported by iconv and in a format that it recognizes.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For you own dependancy check on the actual mbstring
extension, use the <tt class="docutils literal"><span class="pre">MB_ENABLED</span></tt> constant.</p>
</div>
</div>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id9">Function reference</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mb_strlen">
<tt class="descname">mb_strlen</tt><big>(</big><em>$str</em><span class="optional">[</span>, <em>$encoding = NULL</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#mb_strlen" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$str</strong> (<em>string</em>) &#8211; Input string</li>
<li><strong>$encoding</strong> (<em>string</em>) &#8211; Character set</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Number of characters in the input string or FALSE on failure</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>For more information, please refer to the <a class="reference external" href="http://php.net/mb_strlen">PHP manual for
mb_strlen()</a>.</p>
</dd></dl>

<dl class="function">
<dt id="mb_strpos">
<tt class="descname">mb_strpos</tt><big>(</big><em>$haystack</em>, <em>$needle</em><span class="optional">[</span>, <em>$offset = 0</em><span class="optional">[</span>, <em>$encoding = NULL</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#mb_strpos" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$haystack</strong> (<em>string</em>) &#8211; String to search in</li>
<li><strong>$needle</strong> (<em>string</em>) &#8211; Part of string to search for</li>
<li><strong>$offset</strong> (<em>int</em>) &#8211; Search offset</li>
<li><strong>$encoding</strong> (<em>string</em>) &#8211; Character set</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Numeric character position of where $needle was found or FALSE if not found</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>For more information, please refer to the <a class="reference external" href="http://php.net/mb_strpos">PHP manual for
mb_strpos()</a>.</p>
</dd></dl>

<dl class="function">
<dt id="mb_substr">
<tt class="descname">mb_substr</tt><big>(</big><em>$str</em>, <em>$start</em><span class="optional">[</span>, <em>$length = NULL</em><span class="optional">[</span>, <em>$encoding = NULL</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#mb_substr" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$str</strong> (<em>string</em>) &#8211; Input string</li>
<li><strong>$start</strong> (<em>int</em>) &#8211; Position of first character</li>
<li><strong>$length</strong> (<em>int</em>) &#8211; Maximum number of characters</li>
<li><strong>$encoding</strong> (<em>string</em>) &#8211; Character set</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Portion of $str specified by $start and $length or FALSE on failure</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>For more information, please refer to the <a class="reference external" href="http://php.net/mb_substr">PHP manual for
mb_substr()</a>.</p>
</dd></dl>

</div>
</div>
</div>


		</div>

		<!-- {user_guide_comments} -->
		
		<div id="footer">
			<p class="top"><a href="#header" title="Return to top">Return to top</a></p>
			<p><a href="http://codeigniter.com/">CodeIgniter</a> &ndash; Copyright &copy; 2014, EllisLab, Inc.</a></p>
		</div><!-- /#footer -->
	</body>
</html>